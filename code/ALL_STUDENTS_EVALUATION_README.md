# å…¨é‡å­¦ç”Ÿè¯„ä¼° - ä½¿ç”¨è¯´æ˜

## ğŸš€ å½“å‰çŠ¶æ€

- âœ… **è¯„ä¼°å·²å¯åŠ¨**ï¼Œåå°è¿è¡Œä¸­
- ğŸ“Š **æ€»å­¦ç”Ÿæ•°**: 1708ä¸ªï¼ˆassist2017æ•°æ®é›†ï¼‰
- ğŸ”§ **å¹¶è¡Œæ•°**: 20ä¸ªçº¿ç¨‹
- â±ï¸ **é¢„è®¡æ—¶é—´**: ~42åˆ†é’Ÿ
- ğŸ’¾ **æ—¥å¿—æ–‡ä»¶**: `logs/evaluate_all_students.log`

---

## ğŸ“ˆ ç›‘æ§è¿›åº¦

### å¿«é€ŸæŸ¥çœ‹è¿›åº¦
```bash
./check_progress.sh
```

### å®æ—¶ç›‘æ§
```bash
# æŒç»­æ˜¾ç¤ºæ—¥å¿—
tail -f logs/evaluate_all_students.log

# æŒ‰Ctrl+Cé€€å‡ºç›‘æ§ï¼ˆä¸ä¼šåœæ­¢è¯„ä¼°ï¼‰
```

### æŸ¥çœ‹å®Œæˆæ•°é‡
```bash
# ç»Ÿè®¡å·²å®Œæˆçš„å­¦ç”Ÿæ•°
ls bank/evaluation_results/pre-test/assist2017/student_*.json | wc -l

# æŸ¥çœ‹overall.jsonï¼ˆæ¯100ä¸ªå­¦ç”Ÿè‡ªåŠ¨æ›´æ–°ï¼‰
cat bank/evaluation_results/pre-test/assist2017/overall.json | python -m json.tool
```

---

## ğŸ¯ è¯„ä¼°ç‰¹æ€§

### 1. æ–­ç‚¹ç»­ä¼  âœ…
- å¦‚æœè¿›ç¨‹ä¸­æ–­ï¼Œé‡æ–°è¿è¡Œä¼šè‡ªåŠ¨è·³è¿‡å·²å®Œæˆçš„å­¦ç”Ÿ
- å·²å®Œæˆçš„ç»“æœä¿å­˜åœ¨ `bank/evaluation_results/pre-test/assist2017/`

### 2. è‡ªåŠ¨ç»Ÿè®¡ âœ…
- æ¯100ä¸ªå­¦ç”Ÿè‡ªåŠ¨æ›´æ–° `overall.json`
- åŒ…å«æ•´ä½“å‡†ç¡®ç‡ã€åå·®ã€æŒ‰æ°´å¹³åˆ†æç­‰ç»Ÿè®¡

### 3. é”™è¯¯å¤„ç† âœ…
- å•ä¸ªå­¦ç”Ÿå¤±è´¥ä¸å½±å“å…¶ä»–å­¦ç”Ÿ
- é”™è¯¯ä¼šè®°å½•åœ¨æ—¥å¿—ä¸­

### 4. å¤šçº¿ç¨‹å¹¶è¡Œ âœ…
- 20ä¸ªçº¿ç¨‹åŒæ—¶è¯„ä¼°
- å¤§å¹…æå‡è¯„ä¼°é€Ÿåº¦

---

## ğŸ“Š è¯„ä¼°å®Œæˆå

è¯„ä¼°å®Œæˆåä¼šç”Ÿæˆï¼š

### 1. Overall.json
```json
{
  "method": "pre-test",
  "dataset": "assist2017",
  "num_students_evaluated": 1708,
  "average_original_accuracy": 0.xxx,
  "average_roleplay_accuracy": 0.xxx,
  "average_absolute_deviation": 0.xxx,
  "performance_by_level": {
    "struggling": {...},
    "developing": {...},
    "competent": {...},
    "strong": {...}
  }
}
```

### 2. æ¯ä¸ªå­¦ç”Ÿçš„è¯¦ç»†ç»“æœ
- æ–‡ä»¶: `student_{id}_concept_{cid}.json`
- åŒ…å«: 10é“é¢˜çš„è¯¦ç»†å›ç­”ã€è¯„åˆ†ã€åé¦ˆ

---

## ğŸ› ï¸ å¸¸ç”¨æ“ä½œ

### åœæ­¢è¯„ä¼°
```bash
# æ‰¾åˆ°è¿›ç¨‹ID
cat logs/evaluate_all_students.pid

# ä¼˜é›…åœæ­¢
kill $(cat logs/evaluate_all_students.pid)
```

### é‡æ–°å¼€å§‹è¯„ä¼°
```bash
# ä»æ–­ç‚¹ç»§ç»­ï¼ˆé»˜è®¤ï¼‰
python evaluate_all_students.py

# é‡æ–°è¯„ä¼°æ‰€æœ‰å­¦ç”Ÿ
python evaluate_all_students.py --no-resume
```

### è°ƒæ•´å¹¶è¡Œæ•°
```bash
# ä½¿ç”¨30ä¸ªçº¿ç¨‹
python evaluate_all_students.py --max-workers 30

# ä½¿ç”¨10ä¸ªçº¿ç¨‹ï¼ˆè¾ƒæ…¢ä½†æ›´ç¨³å®šï¼‰
python evaluate_all_students.py --max-workers 10
```

---

## ğŸ“ˆ é¢„æœŸç»“æœ

åŸºäºå‰5ä¸ªå­¦ç”Ÿçš„æµ‹è¯•ç»“æœï¼š

| æ°´å¹³ | å‡†ç¡®ç‡èŒƒå›´ | å­¦ç”Ÿæ•° | é¢„æœŸåå·® |
|------|-----------|--------|----------|
| STRUGGLING | 0-40% | ~1060 | ~27% |
| DEVELOPING | 40-60% | ~299 | ~15% |
| COMPETENT | 60-80% | ~230 | ~30% |
| STRONG | 80-100% | ~119 | ~15% |

**æ€»ä½“é¢„æœŸ**:
- å¹³å‡åŸå§‹å‡†ç¡®ç‡: ~40%
- å¹³å‡Role-playå‡†ç¡®ç‡: ~55-60%
- å¹³å‡ç»å¯¹åå·®: ~20-25%

---

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **è¯„ä¼°æ—¶é—´**: å…¨é‡è¯„ä¼°éœ€è¦40-60åˆ†é’Ÿï¼Œè¯·è€å¿ƒç­‰å¾…
2. **ç³»ç»Ÿèµ„æº**: 20ä¸ªå¹¶è¡Œçº¿ç¨‹ä¼šå ç”¨ä¸€å®šCPUå’Œç½‘ç»œå¸¦å®½
3. **APIè°ƒç”¨**: æ€»å…±çº¦ 1708 Ã— 11 = 18,788æ¬¡LLMè°ƒç”¨ï¼ˆ10é¢˜+1æ¬¡æ‰¹æ”¹ï¼‰
4. **ç£ç›˜ç©ºé—´**: æ¯ä¸ªå­¦ç”Ÿç»“æœçº¦5-10KBï¼Œæ€»å…±çº¦10-20MB

---

## ğŸ” æ•…éšœæ’æŸ¥

### è¿›ç¨‹æ„å¤–åœæ­¢
```bash
# æ£€æŸ¥æ—¥å¿—æœ€åå‡ è¡Œ
tail -50 logs/evaluate_all_students.log

# é‡æ–°å¯åŠ¨ï¼ˆä¼šè‡ªåŠ¨ç»­ä¼ ï¼‰
python evaluate_all_students.py
```

### APIé”™è¯¯
- æ£€æŸ¥ `roleplay_config.py` ä¸­çš„APIé…ç½®
- æŸ¥çœ‹æ—¥å¿—ä¸­çš„å…·ä½“é”™è¯¯ä¿¡æ¯

### å†…å­˜ä¸è¶³
- å‡å°‘ `max_workers` æ•°é‡
- ä¾‹å¦‚: `python evaluate_all_students.py --max-workers 10`

---

## ğŸ“ ç›‘æ§è„šæœ¬

å·²åˆ›å»ºä¾¿æ·ç›‘æ§è„šæœ¬:
```bash
./check_progress.sh
```

è¾“å‡ºç¤ºä¾‹:
```
==================================
ğŸ“Š Pre-test è¯„ä¼°è¿›åº¦
==================================

âœ… è¿›ç¨‹è¿è¡Œä¸­ (PID: 2036669)
   è¿è¡Œæ—¶é—´: 00:35

ğŸ“ˆ è¯„ä¼°è¿›åº¦:
   æ€»æ•°: 1708
   å·²å®Œæˆ: 9 (0.5%)
   å‰©ä½™: 1699

   [=                                                 ] 0.5%
```

---

## ğŸ“š ç›¸å…³æ–‡ä»¶

- `evaluate_all_students.py` - ä¸»è¯„ä¼°è„šæœ¬
- `batch_test_students.py` - æ‰¹é‡è¯„ä¼°é€»è¾‘
- `student_roleplay_evaluation.py` - æ ¸å¿ƒè¯„ä¼°å¼•æ“
- `check_progress.sh` - è¿›åº¦ç›‘æ§è„šæœ¬
- `logs/evaluate_all_students.log` - è¯¦ç»†æ—¥å¿—

---

## ğŸ‰ è¯„ä¼°å®Œæˆå

1. æŸ¥çœ‹overall.jsonè·å–æ•´ä½“ç»Ÿè®¡
2. åˆ†æä¸åŒæ°´å¹³å­¦ç”Ÿçš„è¡¨ç°
3. å¯¹æ¯”æœªæ¥å…¶ä»–tutoringæ–¹æ³•çš„æ•ˆæœ
4. ç”Ÿæˆå¯è§†åŒ–æŠ¥å‘Šï¼ˆå¯é€‰ï¼‰

ç¥è¯„ä¼°é¡ºåˆ©ï¼ğŸš€

